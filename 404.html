<!DOCTYPE html>
<html>
    <!--By Filippos-->
    <!--Last edit Jan 2020-->

    <script src="js_functions/includeHTML.js"></script>

    <head>
        <!-- Metatags -->
        <meta charset="UTF-8" />
        <meta name="author" content="Filippos" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <!-- Title -->
        <title>Projects</title>

        <!-- css stylink link -->
        <link rel="stylesheet" href="css/styles.css" />
    </head>

    <body>
        <!-- Header -->
        <header>
            <div class="Default_Header">
                <nav>
                    <ul>
                        <!--<div w3-include-html="html_includes/header_default.html"></div>-->
                        <li><a href="index.html">/Home</a></li>
                        <li><a href="about.html">/CV</a></li>
                        <li><a href="research.html">/Research</a></li>
                        <li><a href="teaching.html">/Teaching</a></li>
                        <li><a href="publications.html">/Publications</a></li>
                        <li><a href="posts.html">/Posts</a></li>
                        <li>
                            <button id="btn_dark_mode" onclick="fun_dark_mode()">
                                /Dark Mode
                            </button>
                        </li>
                    </ul>
                </nav>
            </div>
        </header>

        <!-- Main Body -->
        <main>
            <h1>Page not found.</h1>
            <p>The requested page was not found.</p>
            <p>You look lost. The navigation bar contains a few suggested pages...</p>
            <!-- <br /><br /> -->
            <img
                id="constr_img"
                src="media/not_found.gif"
                alt="Under Construction"
                height="300" />

            <!-- <p> Image: </p>
            <p id="test_filename"></p> -->
            <p id="test_theme"></p>
            <!--<p>This webpage is hosted on Gitlab pages.</p> -->
            <!--<a href="https://www.githubstatus.com/">> Github Status Page</a> -->
            <a href="https://status.gitlab.com/">> Gitlab Status Page</a>
        </main>

        <!-- Footer -->
        <footer>
            <div class="Default_Footer">
                <div w3-include-html="html_includes/footer_default.html"></div>

                <!-- Note: when using this include just reading the html file will not work 
                (you need to open on a localhost) -->
            </div>
        </footer>

        <script>
            includeHTML();
        </script>

        <!-- Checking if the user has previously selected a light/dark theme -->
        <!-- This is run when the page reloads (script)-->
        <script>
            const theme = localStorage.getItem("theme");
            if (theme === "dark") {
                document.documentElement.setAttribute("data-theme", "dark");
                document.getElementById("test_theme").innerHTML =
                    "When the error occurred the theme was dark! ✦";
                document.getElementById("btn_dark_mode").innerHTML = "/Light Mode";
            } else {
                document.getElementById("test_theme").innerHTML =
                    "When the error occurred the theme was bright! ☀";
            }
        </script>
    </body>

    <!-- Toggle dark mode function -->
    <!-- Blur Removes the focus from the button after click without affecting accessibility -->
    <!-- Change button string -->
    <!-- Change figure -->
    <script>
        function fun_dark_mode() {
            document.activeElement.blur();

            let currentMode = document.documentElement.getAttribute("data-theme");

            if (currentMode === "dark") {
                document.getElementById("btn_dark_mode").innerHTML = "/Dark Mode";
                document.documentElement.setAttribute("data-theme", "light");
                window.localStorage.setItem("theme", "light");
            } else {
                document.getElementById("btn_dark_mode").innerHTML = "/Light Mode";
                document.documentElement.setAttribute("data-theme", "dark");
                window.localStorage.setItem("theme", "dark");
            }

            var temp = document.getElementById("constr_img").src;
            document.getElementById("test_filename").innerHTML = temp;
        }
    </script>
</html>
